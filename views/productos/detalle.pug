doctype html
html
  head
    title Detalles - #{producto.nombre}
    link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css")
    link(rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css')
  body
    .container.mt-5
      .row.justify-content-center
        .col-md-8
          .card.shadow
            .card-header.bg-primary.text-white
              h1.card-title Detalles del Producto
            .card-body
              // Nombre y descripción
              h2 #{producto.nombre}
              p.card-text.lead.text-muted #{producto.descripcion}
              if producto.imagen
                img(src=`/${producto.imagen}` alt=`Imagen de ${producto.nombre}` class="img-fluid mt-3 mb-3")
              else
                p.text-muted No hay imagen disponible para este producto.
              hr

              // Precio e inventario
              .row
                .col-md-6
                  p.font-weight-bold
                    | Precio: 
                    span.badge.badge-success.ml-2 #{producto.precio} $
                .col-md-6
                  p.font-weight-bold
                    | Inventario: 
                    span.badge.badge-info.ml-2 #{producto.inventario} unidades

              .row.mt-3
                .col-md-6
                  p.font-weight-bold
                    | Categoría: 
                    span.badge.badge-secondary.ml-2 #{producto.categoria}

              hr

              // Botones de acción
              .d-flex.justify-content-between.mt-4
                a.btn.btn-secondary(href="/productos")
                  i.bi.bi-arrow-left-circle-fill.mr-1 Volver a la lista
                // Mostrar el botón de Editar solo si el usuario es admin
                if esAdmin
                  a.btn.btn-primary(href=`/productos/${producto.id}/editar`)
                    i.bi.bi-pencil-square.mr-1 Editar Producto
                // Mostrar el botón de Eliminar solo si el usuario es admin
                if esAdmin
                  form(action=`/productos/${producto.id}/eliminar` method="POST" style="display:inline")
                    button.btn.btn-danger(type="submit" onclick="return confirm('¿Estás seguro de eliminar este producto?')")
                      i.bi.bi-trash-fill.mr-1 Eliminar Producto

    // Enlaces a scripts de Bootstrap y Bootstrap Icons (para iconos)
    script(src="https://code.jquery.com/jquery-3.5.1.slim.min.js")
    script(src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js")
    script(src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js")
