doctype html
html
  head
    title Página Principal
    link(rel='stylesheet', href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css')
    link(rel='stylesheet', href='/styles.css')
  body
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      .container
        a.navbar-brand(href='/') Ecommerce
        button.navbar-toggler(type='button', data-bs-toggle='collapse', data-bs-target='#navbarNav', aria-controls='navbarNav', aria-expanded='false', aria-label='Toggle navigation')
          span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse
          ul.navbar-nav.ms-auto
            if !user
              li.nav-item
                a.nav-link(href='/auth/registro') Registrarse
              li.nav-item
                a.nav-link(href='/auth/login') Iniciar Sesión
            else
              li.nav-item
                a.nav-link(href='/auth/logout') Cerrar sesión

    .container.mt-5
      h1.text-center.mb-5.text-primary Bienvenido a la Tienda Ecommerce

      if user && user.rol === 'admin'
        .row
          .col-md-6.offset-md-3
            .card.mb-4.shadow
              .card-header.bg-primary.text-white.text-center
                h2 Administración de Usuarios
              .card-body
                p.text-muted.text-center Gestiona los usuarios desde aquí.
                a(href='/usuarios/agregar', class='btn btn-success btn-lg w-100 mb-2') Agregar Usuario
                a(href='/usuarios/', class='btn btn-primary btn-lg w-100 mb-2') Consultar Usuarios
                a(href='/usuarios/buscar', class='btn btn-secondary btn-lg w-100') Consultar por Correo

            .card.shadow
              .card-header.bg-secondary.text-white.text-center
                h2 Administración de Productos
              .card-body
                p.text-muted.text-center Accede al catálogo de productos.
                a(href='/productos', class='btn btn-primary btn-lg w-100') Ver Productos

      .row.mt-5
        if productos && productos.length
          each producto in productos
            .col-md-4.mb-4
              .card
                img.card-img-top(src=producto.imagenUrl alt=producto.nombre)
                .card-body
                  h5.card-title
